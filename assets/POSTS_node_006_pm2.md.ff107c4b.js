import{_ as s,c as a,o as l,a as e}from"./app.46e53c5c.js";const n="/mochi-blog/assets/002_pm2-list.6c5a3026.png",g=JSON.parse('{"title":"PM2 基础使用","titleTemplate":false,"description":"","frontmatter":{"date":"2023-01-30 08:30:29","title":"PM2 基础使用","titleTemplate":false,"author":"Mochi","outline":[2,4],"categories":["post"],"tags":["node"]},"headers":[{"level":2,"title":"安装","slug":"安装","link":"#安装","children":[]},{"level":2,"title":"常用命令","slug":"常用命令","link":"#常用命令","children":[{"level":3,"title":"启动项目","slug":"启动项目","link":"#启动项目","children":[]},{"level":3,"title":"重启项目","slug":"重启项目","link":"#重启项目","children":[]},{"level":3,"title":"项目列表","slug":"项目列表","link":"#项目列表","children":[]},{"level":3,"title":"停止项目","slug":"停止项目","link":"#停止项目","children":[]},{"level":3,"title":"从项目列表删除项目","slug":"从项目列表删除项目","link":"#从项目列表删除项目","children":[]},{"level":3,"title":"查看日志","slug":"查看日志","link":"#查看日志","children":[]},{"level":3,"title":"查看某个进程信息","slug":"查看某个进程信息","link":"#查看某个进程信息","children":[]}]}],"relativePath":"_POSTS/node/006_pm2.md","lastUpdated":1675047349000}'),p={name:"_POSTS/node/006_pm2.md"},t=e(`<h1 id="pm2-基础使用" tabindex="-1">PM2 基础使用 <a class="header-anchor" href="#pm2-基础使用" aria-hidden="true">#</a></h1><p><a href="https://pm2.keymetrics.io/docs/usage/quick-start/" target="_blank" rel="noreferrer">PM2</a> 是 node 的进程管理工具, 可以利用它来简化很多 node 应用管理的繁琐任务。如性能监控、自动重启、负载均衡等, 而且使用非常简单。</p><h2 id="安装" tabindex="-1">安装 <a class="header-anchor" href="#安装" aria-hidden="true">#</a></h2><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">pm2</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-g</span></span>
<span class="line"></span></code></pre></div><h2 id="常用命令" tabindex="-1">常用命令 <a class="header-anchor" href="#常用命令" aria-hidden="true">#</a></h2><h3 id="启动项目" tabindex="-1">启动项目 <a class="header-anchor" href="#启动项目" aria-hidden="true">#</a></h3><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#FFCB6B;">pm2</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">start</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">app.js</span></span>
<span class="line"></span></code></pre></div><h3 id="重启项目" tabindex="-1">重启项目 <a class="header-anchor" href="#重启项目" aria-hidden="true">#</a></h3><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#FFCB6B;">pm2</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">restart</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">app.js</span></span>
<span class="line"></span></code></pre></div><h3 id="项目列表" tabindex="-1">项目列表 <a class="header-anchor" href="#项目列表" aria-hidden="true">#</a></h3><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#FFCB6B;">pm2</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">list</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">ls</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">status</span></span>
<span class="line"></span></code></pre></div><p><img src="`+n+`" alt="PM2官网项目列表图"></p><h3 id="停止项目" tabindex="-1">停止项目 <a class="header-anchor" href="#停止项目" aria-hidden="true">#</a></h3><div class="vp-code-group"><div class="tabs"><input type="radio" name="group-mXKF2" id="tab-K541CrA" checked="checked"><label for="tab-K541CrA">全部停止</label><input type="radio" name="group-mXKF2" id="tab-LAIfoOR"><label for="tab-LAIfoOR">停止特定项目</label></div><div class="blocks"><div class="language-shell active"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#FFCB6B;">pm2</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">stop</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">all</span></span>
<span class="line"></span></code></pre></div><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># 需要先通过 pm2 list 获取应用的名字(--name指定的)或者进程 id</span></span>
<span class="line"><span style="color:#FFCB6B;">pm2</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">stop</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">app_name</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">app_id</span></span>
<span class="line"></span></code></pre></div></div></div><h3 id="从项目列表删除项目" tabindex="-1">从项目列表删除项目 <a class="header-anchor" href="#从项目列表删除项目" aria-hidden="true">#</a></h3><div class="vp-code-group"><div class="tabs"><input type="radio" name="group-GjAwJ" id="tab-R3WT1fH" checked="checked"><label for="tab-R3WT1fH">全部删除</label><input type="radio" name="group-GjAwJ" id="tab-NeWQixs"><label for="tab-NeWQixs">删除特定项目</label></div><div class="blocks"><div class="language-shell active"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#FFCB6B;">pm2</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">delete</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">all</span></span>
<span class="line"></span></code></pre></div><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># 需要先通过 pm2 list 获取应用的名字(--name指定的)或者进程 id</span></span>
<span class="line"><span style="color:#FFCB6B;">pm2</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">delete</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">app_name</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">app_id</span></span>
<span class="line"></span></code></pre></div></div></div><h3 id="查看日志" tabindex="-1">查看日志 <a class="header-anchor" href="#查看日志" aria-hidden="true">#</a></h3><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#FFCB6B;">pm2</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">logs</span></span>
<span class="line"></span></code></pre></div><h3 id="查看某个进程信息" tabindex="-1">查看某个进程信息 <a class="header-anchor" href="#查看某个进程信息" aria-hidden="true">#</a></h3><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#FFCB6B;">pm2</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">describe</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">app_id</span></span>
<span class="line"></span></code></pre></div><blockquote><p>pm2 还可以负载均衡, 项目开机自启动, 部署项目等作用, 用到再说。</p></blockquote>`,21),o=[t];function c(i,r,d,h,C,y){return l(),a("div",null,o)}const A=s(p,[["render",c]]);export{g as __pageData,A as default};
