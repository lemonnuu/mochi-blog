import{_ as s,c as a,o as n,a as l}from"./app.65c9d0ed.js";const y=JSON.parse('{"title":"Ubuntu@22.04 安装 MongoDB 出错解决","titleTemplate":false,"description":"","frontmatter":{"date":"2023-01-18 20:18:18","title":"Ubuntu@22.04 安装 MongoDB 出错解决","titleTemplate":false,"author":"Mochi","outline":false,"categories":["post"],"tags":["mongodb","pit"]},"headers":[],"relativePath":"_POSTS/pits/002ubuntu-install-mongodb.md","lastUpdated":1674045579000}'),o={name:"_POSTS/pits/002ubuntu-install-mongodb.md"},e=l(`<h1 id="ubuntu-22-04-安装-mongodb-出错解决" tabindex="-1">Ubuntu 22.04 安装 MongoDB 出错解决 <a class="header-anchor" href="#ubuntu-22-04-安装-mongodb-出错解决" aria-hidden="true">#</a></h1><p>对着<a href="https://www.mongodb.com/docs/manual/tutorial/install-mongodb-on-ubuntu/" target="_blank" rel="noreferrer">官网</a>在 Ubuntu@22.04 上安装 MongoDB@6 时, 老抛出这样的错误：</p><div class="language-text"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#A6ACCD;">The following packages have unmet dependencies:</span></span>
<span class="line"><span style="color:#A6ACCD;">mongodb-org-mongos : Depends: libssl1.1 (&gt;= 1.1.1) but it is not installable</span></span>
<span class="line"><span style="color:#A6ACCD;">mongodb-org-server : Depends: libssl1.1 (&gt;= 1.1.1) but it is not installable</span></span>
<span class="line"><span style="color:#A6ACCD;">mongodb-org-shell : Depends: libssl1.1 (&gt;= 1.1.1) but it is not installable</span></span>
<span class="line"><span style="color:#A6ACCD;">E: Unable to correct problems, you have held broken packages.</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>刚开始以为是安装 MongoDB@6 导致的, 然后安装 MongoDB@5 仍是如此...直到看到<a href="https://stackoverflow.com/questions/73656873/unable-to-install-mongodb-in-ubuntu-22-04-mongodb-org-libssl1-1" target="_blank" rel="noreferrer">这篇帖子</a>, 才真正解决了问题。</p><p>其实是因为 MongoDB 需要特定版本的 libssl1.1 才能安装, 执行如下脚本后重新安装即可。</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#FFCB6B;">sudo</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">wget</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">http://archive.ubuntu.com/ubuntu/pool/main/o/openssl/libssl1.1_1.1.1f-1ubuntu2_amd64.deb</span></span>
<span class="line"><span style="color:#FFCB6B;">sudo</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">dpkg</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-i</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">libssl1.1_1.1.1f-1ubuntu2_amd64.deb</span></span>
<span class="line"></span></code></pre></div><p>Ubuntu 安装 MongoDB:</p><div class="vp-code-group"><div class="tabs"><input type="radio" name="group-UyvHH" id="tab-MsCyEIo" checked="checked"><label for="tab-MsCyEIo">step1</label><input type="radio" name="group-UyvHH" id="tab-_Win3Ka"><label for="tab-_Win3Ka">step2</label><input type="radio" name="group-UyvHH" id="tab-rVxwhO3"><label for="tab-rVxwhO3">step3</label><input type="radio" name="group-UyvHH" id="tab-Wbkqlbq"><label for="tab-Wbkqlbq">step4</label></div><div class="blocks"><div class="language-bash active"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#FFCB6B;">wget</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-qO</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">https://www.mongodb.org/static/pgp/server-6.0.asc</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">sudo</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">apt-key</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">add</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-</span></span>
<span class="line"></span></code></pre></div><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-palenight has-highlighted-lines"><code><span class="line"><span style="color:#82AAFF;">echo</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">deb [ arch=amd64,arm64 ] https://repo.mongodb.org/apt/ubuntu focal/mongodb-org/6.0 multiverse</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">sudo</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">tee</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/etc/apt/sources.list.d/mongodb-org-6.0.list</span></span>
<span class="line highlighted"></span></code></pre></div><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#FFCB6B;">sudo</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">apt-get</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">update</span></span>
<span class="line"></span></code></pre></div><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#FFCB6B;">sudo</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">apt-get</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-y</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">mongodb-org</span></span>
<span class="line"></span></code></pre></div></div></div><p>验证 MongoDB 是否安装成功：</p><div class="vp-code-group"><div class="tabs"><input type="radio" name="group-oJ4kM" id="tab-XGYrlG-" checked="checked"><label for="tab-XGYrlG-">启动</label><input type="radio" name="group-oJ4kM" id="tab-wRZ3mIy"><label for="tab-wRZ3mIy">查看状态</label></div><div class="blocks"><div class="language-bash active"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#FFCB6B;">sudo</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">systemctl</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">start</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">mongod</span></span>
<span class="line"></span></code></pre></div><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#FFCB6B;">sudo</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">systemctl</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">status</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">mongod</span></span>
<span class="line"></span></code></pre></div></div></div><p>当看见 MongoDB 正在运行即成功。</p>`,11),p=[e];function t(c,r,i,d,C,b){return n(),a("div",null,p)}const g=s(o,[["render",t]]);export{y as __pageData,g as default};
